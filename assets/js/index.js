"use strict";$(function(t){Layout.page(),CheckURL.core(),LoginVerify.check_logged(),$(notif_btn).click(function(t){$(contacts_btn).removeClass(act_class),$(account_avatar).removeClass("logo-actived"),Classes.toggle(notif_btn),$(account_box).hide(),$(contacts_box).hide(),$(notif_box).fadeToggle(anim_time)}),$(contacts_btn).click(function(t){$(notif_btn).removeClass(act_class),$(account_avatar).removeClass("logo-actived"),Classes.toggle(contacts_btn),$(notif_box).hide(),$(account_box).hide(),$(contacts_box).fadeToggle(anim_time)}),$(account_avatar).click(function(t){$(notif_btn).removeClass(act_class),$(contacts_btn).removeClass(act_class),Classes.toggle(account_avatar,"logo-actived"),$(notif_box).hide(),$(contacts_box).hide(),$(account_box).fadeToggle(anim_time)}),$(mask).click(function(t){Modals.close_all()})});var editor,menu_items,mark_lines,sql_code_ref,Apis={core:function(){return"".concat(URL.get_url_base(),"apis/")},npoint:function(t){return"https://api.npoint.io/".concat(t)},gravatar:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;return"https://s.gravatar.com/avatar/".concat(t,"?s=").concat(e)},frankfurter:function(t){return"https://api.frankfurter.app/latest?amount=".concat(t.value,"&from=").concat(t.from,"&to=").concat(t.to)}},Confirm={close:function(t){switch(this.close_modal(t),t){case"delete_model":GetModel.get();break;case"delete_diagram":GetDiagram.get()}},text:function(t){switch(t){case"delete_model":case"delete_diagram":case"delete_collection":return"This action cannot be undone. Confirm delete item ?";case"logoff":return"Are you sure you want to sign out of your account ?"}},task:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.close_modal(e),setTimeout(function(t){switch(e){case"logoff":Login.logoff();break;case"delete_model":GetModel.delete();break;case"delete_diagram":GetDiagram.delete();break;case"delete_collection":ManagerCollectionPost.delete(a)}},2*anim_time)},run:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;$(modal).fadeOut(),$(account_box).hide(),$(account_avatar).removeClass("logo-actived"),$(confirm_modal).empty(),$(confirm_modal).append("\n\t\t\t<div class='conf-content'>\n\t\t\t\t<div class='label'>".concat(this.text(t),"</div>\n\t\t\t</div>\n\n\t\t\t<div class='conf-footer'>\n\t\t\t\t<div class='btn' onclick=\"Confirm.task('").concat(t,"', '").concat(e,"')\">Confirm</div>\n\t\t\t\t<div class='btn' onclick=\"Confirm.close('").concat(t,"')\">Cancel</div>\n\t\t\t</div>\n\t\t")),$(mask).fadeIn(),$(confirm_modal).fadeIn()},close_modal:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null==t?Modals.close_all():1!=Find.in_array(t,["delete_task","delete_model","delete_diagram"])&&$(mask).fadeOut(),$(confirm_modal).fadeOut()}},URL={get_url_base:function(){return"localhost"==window.location.host?window.location.origin+"/"+window.location.pathname.split("/")[1]+"/":window.location.origin+"/"},get_query:function(t){for(var e,a=[],n=new RegExp("(?:\\?|&)"+t+"=(.*?)(?=&|$)","gi");null!==(e=n.exec(document.location.search));)a.push(e[1]);return a[0]},get_url:function(t){return t?"/"!=this.get_last_param()?window.location.origin+window.location.pathname+"/":window.location.origin+window.location.pathname.replace(/^(.+?)\/*?$/,"$1"):window.location.origin+window.location.pathname.replace(/^(.+?)\/*?$/,"$1")+"/"},add_query:function(t,e){history.pushState&&(e=this.get_url().replace(/^(.+?)\/*?$/,"$1")+"?"+t+"="+e,window.history.pushState({path:e},"",e))},get_last_param:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(t||window.location.pathname).split("/").slice(-1)[0]},open_url:function(t){window.location.href=1==(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?this.get_url_base()+t:t},change_url:function(t){this.push_url(t.split(".").slice(-1)[0])},remove_all_queries:function(){this.push_url(this.get_url().replace(/^(.+?)\/*?$/,"$1"))},push_url:function(t){window.history.pushState(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,t)},remove_last_param:function(){this.push_url(this.get_url().substring(0,this.get_url().length-this.get_last_param().length-2))},set_last_param:function(t){this.push_url(this.get_url().replace(/^(.+?)\/*?$/,"$1")+"/"+t.replace(/\//g,""))}},mask=".mask",modal=".modal",confirm_modal="#confirm-mdl",diagram_modal="#diagram-mdl",code_view_modal="#code-view-mdl",collection_modal="#collection-mdl",hide="hide",anim_time=200,act_class="actived",side_box="#side-box",cm_editor="cm-editor",props_btn="#props-btn",notif_btn="#notif-btn",notif_box="#notif-box",sub_header=".sub-header",menu_top_item=".top-menu",account_box="#account-box",select_list="#select-list",total_items="#total-items",contacts_box="#contacts-box",contacts_btn="#contacts-btn",profile_name="#profile-name",props_btn_dgr="#props-btn-dgr",user_container="#user-content",user_page_top="#user-page-top",account_avatar="#account-avatar",collections_box="#collections-box",sub_header_items=sub_header+" > .menu > .item",message_dgr=toolbar_dgr+" > #cvm-message",toolbar_dgr=diagram_modal+" > #toolbar-dgr",header_dgr=diagram_modal+" > #header-dgr-view",share_dgr_box=diagram_modal+" > #share-dgr-box",options_dgr=diagram_modal+" > #get-options-dgr",properties_dgr=diagram_modal+" > #properties-dgr",visual_mode=code_view_modal+" > #visual-mode",send_to_box=code_view_modal+" > #send-to-box",toolbar_code=code_view_modal+" > #toolbar-snp",properties=code_view_modal+" > #properties-snp",intellisense=code_view_modal+" > #intellisense",code_diagram=code_view_modal+" > #code-diagram",table_render_visual=visual_mode+" > #tbl-render",code_view_message=toolbar_code+" > #cvm-message",status_code=code_view_modal+" > #status-code-bar",header_code=code_view_modal+" > #header-code-view",share_code_box=code_view_modal+" > #share-code-box",options_model=code_view_modal+" > #get-options-model",models_linked_box=code_view_modal+" > #models-linked-box",CheckURL={core:function(){switch(URL.get_last_param()){case"tasks":Tasks.page_load();break;case"models":Models.page_load();break;case"hashes":Hashes.page_load();break;case"history":History.page_load();break;case"diagrams":Diagrams.page_load();break;case"contacts":Contacts.page_load();break;default:Models.page_load()}}},Classes={toggle:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:act_class;$(t).parent().find(t).hasClass(e)?$(t).parent().find(t).removeClass(e):$(t).parent().find(t).addClass(e)},has:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:act_class;return!!$(t).parent().find(t).hasClass(e)},replace:function(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:act_class;t.forEach(function(t){$(t).removeClass(a)}),$(e).addClass(a)},is_visible:function(t){return $(t).is(":visible")}},GUI={toggle_boxes:function(t){this.toggle_class(t,act_class),null!=$(t).attr("hide")&&$(t).attr("hide").split(",").forEach(function(t){$("#"+t.Find.replace(/\s/g,"")).hide()}),null!=$(t).attr("rem-act")&&$(t).attr("rem-act").split(",").forEach(function(t){$("."+t.Find.replace(/\s/g,"")).removeClass(act_class)}),$("#"+$(t).attr("toggle")).fadeToggle(anim_time)},empty_multiple:function(t){t.forEach(function(t){$(t).empty()})},get_func_checked:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"fa-check",t=$("#"+Find.replace_all(t,"#","")).html();return 1==this.has_class(t,e)},message:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2500,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:anim_time;$("#"+e).empty(),$("#"+e).text(t),$("#"+e).fadeIn(n),setTimeout(function(t){$("#"+e).fadeOut(n)},a)}},Modals={show:function(t){1!=$(mask).is(":visible")&&$(mask).fadeIn(anim_time),null!=$(t).attr("modal")&&(t=$(t).attr("modal")),$("#"+Find.replace_all(t,"#","")).fadeIn(anim_time)},close:function(t){$(mask).fadeOut(anim_time),$(t).fadeOut(anim_time)},close_all:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];1==t&&(slice_url=Str.slice(Find.replace(URL.get_url(),"localhost/",""),"/",3),URL.remove_all_queries(),Storage.delete(["cc-item","cc-list","cc-list2"])),Find.search(URL.get_url(),"account")&&1!=Find.in_array(URL.get_last_param(),["licenses","devices","settings","orders","cloud","hashes","diagrams","settings","table-models"])&&URL.remove_last_param(),1==e&&$(mask).fadeOut(anim_time),$(modal).fadeOut(anim_time),1==t&&Find.in_array(slice_url,["login","signup","forget","telemetry"])&&Home.go_page()}},Copy={input:function(t){$(t).select(),document.execCommand("copy")},content:function(t){var e=document.createElement("input");return document.body.appendChild(e),e.setAttribute("value",t),e.select(),1==document.execCommand("copy")?(document.body.removeChild(e),!0):(document.body.removeChild(e),!1)}},Misc={platform:function(){return Str.slice(Str.slice(Find.replace_all(navigator.userAgent,";",""),"(",1)," ",0).toLowerCase()},gravatar:function(t){if(1==Storage.has("gravatar"))return Storage.get("gravatar");Encoder.toDataURL(Apis.gravatar(t),function(t){return Storage.save("gravatar",t),t})},error_code:function(t){switch(t){case"error-email":return"Email invalid";case"error-otp-invalid":return"OTP Code invalid";case"error-otp-expired":return"OTP Code expired";case"error-created-db":return"Data not registered in DB";case"error-email-exists":return"The email already exists";case"error-pass-matched":return"Passwords are not the same";case"error-login-auth":return"Email or password are incorrect"}},copy_input:function(t){return $(t).select(),1==document.execCommand("copy")},copy_element:function(t){var e=document.createElement("input");return document.body.appendChild(e),e.setAttribute("value",t),e.select(),1==document.execCommand("copy")?(document.body.removeChild(e),!0):(document.body.removeChild(e),!1)},download:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=document.createElement("a");a.href=t,a.style.display="none",e&&(a.download=e),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t)},change_type_input:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle-type-input";"password"==$(t).attr("type")?($(t).attr("type","text"),$("#"+Find.replace_all(e,"#","")).addClass("fa-eye"),$("#"+Find.replace_all(e,"#","")).removeClass("fa-eye-slash")):($(t).attr("type","password"),$("#"+Find.replace_all(e,"#","")).removeClass("fa-eye"),$("#"+Find.replace_all(e,"#","")).addClass("fa-eye-slash"))}},Random={slug:function(t){for(var e="",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0,o=a.length;n<t;++n)e+=a.charAt(Math.floor(Math.random()*o));return e},password:function(t){for(var e="",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@?!#$%&*^~<>(){}[]-_+=",n=0,o=a.length;n<t;++n)e+=a.charAt(Math.floor(Math.random()*o));return e},password_b64:function(t){return Base64.bota(this.password(t))},slug_range:function(t,e){return this.slug(Math.floor(Math.random()*(e-t+1)+t))}},AccountData={details:function(){var e=this;setTimeout(function(t){e.request_details()},anim_time)},request_details:function(){var e=this,a=!1,n=setInterval(function(t){1!=a?fetch("".concat(Apis.core(),"account/details")).then(function(t){return t.json()}).then(function(t){a=!0,e.get_data(t)}):clearInterval(n)},2*anim_time)},get_data:function(t){Misc.gravatar(t.gravatar),$("#name-user").text(Humanize.capitalize(t.name)),setTimeout(function(t){$("#avatar-user").attr("src",Storage.get("gravatar"))},3*anim_time)}},Contacts={layout:function(){$("body").append("\n\t\t\t<div class='contacts-box' id='".concat(Find.replace_all(contacts_box,"#",""),"'>\n\t\t\t\t<div class='title'>\n\t\t\t\t\t<div class='label'>Contact's</div>\n\n\t\t\t\t\t<div class='fas fa-plus'></div>\n\t\t\t\t\t<div class='total'>0 item's</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='header'>\n\t\t\t\t\t<div class='tab actived'>All</div>\n\t\t\t\t\t<div class='tab'>Favorites</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='list'>\n\t\t\t\t\t<div class='none'>You don't have any contacts.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))}},LoginVerify={url:function(){var t="".concat(URL.get_url_base(),"login?p=").concat(URL.get_last_param());return Find.search(URL.get_url_base(),"localhost")&&(t=Find.replace_all(t,"workspace","website")),null!=URL.get_query("i")&&(t="".concat(t,"&i=").concat(URL.get_query("i"))),"".concat(t,"&w=true")},check_logged:function(){var e=this;fetch("".concat(Apis.core(),"login/check-logged")).then(function(t){return t.json()}).then(function(t){1!=t.logged&&URL.open_url(e.url(),!1)})}},Notifications={list:function(){},layout:function(){$("body").append("\n\t\t\t<div class='notif-box' id='".concat(Find.replace_all(notif_box,"#",""),"'>\n\t\t\t\t<div class='header'>\n\t\t\t\t\t<div class='label'>Notification's</div>\n\t\t\t\t\t<div class='total'>0 item's</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='list'>\n\t\t\t\t\t<div class='none'>You don't have any notifications.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))},denied:function(t){},activated:function(t){},item_layout:function(t){}},Layout={page:function(){$("body").empty(),this.modals(),this.top_bar(),this.sidebar(),this.content(),this.left_box(),this.account_box(),Contacts.layout(),AccountData.details(),Notifications.layout()},modals:function(){$("body").append("\n\t\t\t<div class='mask'></div>\n\t\t\t<div class='code-mdl modal' id='".concat(Find.replace(code_view_modal,"#",""),"'></div>\n\t\t\t<div class='diagram-mdl modal' id='").concat(Find.replace(diagram_modal,"#",""),"'></div>\n\t\t\t<div class='confirm-mdl modal' id='").concat(Find.replace(confirm_modal,"#",""),"'></div>\n\t\t\t<div class='collection-mdl modal' id='").concat(Find.replace(collection_modal,"#",""),"'></div>\n\t\t"))},top_bar:function(){$("body").append("\n\t\t\t<div class='top-bar'>\n\t\t\t\t<div class='right'>\n\t\t\t\t\t<div class='fas fa-users' id='".concat(Find.replace_all(contacts_btn,"#",""),"'></div>\n\t\t\t\t\t<div class='fas fa-bell' id='").concat(Find.replace_all(notif_btn,"#",""),"'></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))},sidebar:function(){$("body").append("\n\t\t\t<div class='sidebar'>\n\t\t\t\t<a class='logo' id='".concat(Find.replace_all(account_avatar,"#",""),"'></a>\n\n\t\t\t\t<a class='item' id='search-box' onclick=''>\n\t\t\t\t\t<div class='fas fa-search'></div>\n\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Search</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item actived' id='tab-models' onclick='Models.page_load()'>\n\t\t\t\t\t<div class='fas fa-table'></div>\n\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Models</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item' id='tab-hashes' onclick='Hashes.page_load()'>\n\t\t\t\t\t<div class='fas fa-fingerprint'></div>\n\t\t\t\t\t\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Hashes</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item' id='tab-diagrams' onclick='Diagrams.page_load()'>\n\t\t\t\t\t<div class='fas fa-project-diagram'></div>\n\t\t\t\t\t\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Diagrams</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item'>\n\t\t\t\t\t<div class='fas fa-stream'></div>\n\t\t\t\t\t\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Tasks</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item'>\n\t\t\t\t\t<div class='fas fa-history'></div>\n\t\t\t\t\t\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>History</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\n\t\t\t\t<a class='item'>\n\t\t\t\t\t<div class='fas fa-sync-alt'></div>\n\t\t\t\t\t\n\t\t\t\t\t<span class='hovercard'>\n\t\t\t\t\t\t<div class='text'>Sync</div>\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t"))},content:function(){$("body").append("\n\t\t\t<div class='content' id='".concat(Find.replace_all(user_container,"#",""),"'>\n\t\t\t\t<div class='filter-area'></div>\n\n\t\t\t\t<table>\n\t\t\t\t\t<thead></thead>\n\t\t\t\t\t<tbody></tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t"))},left_box:function(){$("body").append("\n\t\t\t<div class='left-box' id='".concat(Find.replace_all(side_box,"#",""),"'></div>\n\t\t\t<div class='collections' id='").concat(Find.replace_all(collections_box,"#",""),"'></div>\n\t\t")),Collections.layout()},account_box:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){$("body").append("\n\t\t\t<div class='account-box' id='".concat(Find.replace_all(account_box,"#",""),"'>\n\t\t\t\t<div class='info-user'>\n\t\t\t\t\t<img class='avatar' id='avatar-user'>\n\t\t\t\t\t<div class='name' id='name-user'></div>\n\t\t\t\t\t<div class='text'>Manage your account</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='menu'>Help</div>\n\t\t\t\t<div class='menu'>Upgrade</div>\n\t\t\t\t<div class='menu' onclick=\"Settings.show_modal()\">Setting's</div>\n\t\t\t\t<div class='menu' onclick=\"Confirm.run('logoff')\">Disconnect</div>\n\t\t\t</div>\n\t\t"))})},Table={header:function(t){var e=this;this.clean_thead(),$(this.thead()).append("<tr></tr>"),_.forEach(t,function(t){$("".concat(e.thead()," > tr")).append("\n\t\t\t\t<th>".concat(t,"</th>\n\t\t\t"))})},clean_table:function(){this.clean_tbody(),this.clean_thead()},clean_thead:function(){$(this.thead()).empty()},clean_tbody:function(){$(this.tbody()).empty()},del_rows:function(t){var e=this;"*"!=t||"*"!=t[0]?_.forEach(t,function(t){$("\n\t\t\t\t\t".concat(e.tbody()," > .").concat(t,"\n\t\t\t\t")).remove()}):this.clean_tbody()},add_rows:function(t){var e,a,n=this;1!=(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&this.clean_tbody(),_.forEach(t,function(t){e=Random.slug(24),null!=t.slug&&(e=t.slug),a="".concat(n.tbody()," > #").concat(e),$(n.tbody()).append("\n\t\t\t\t<tr id='".concat(e,"' onclick=\"").concat(t.click,'"></tr>\n\t\t\t')),_.forEach(t.rows,function(t){$(a).append("\n\t\t\t\t\t<td>".concat(t,"</td>\n\t\t\t\t"))})})},thead:function(){return"".concat(user_container," > table > thead")},tbody:function(){return"".concat(user_container," > table > tbody")}},Find={search:function(t,e){return-1!=t.search(e)},in_array:function(t,e){for(var a=0;a<t.length;a++)if(e[a]==t)return!0;return!1},array_remove_item:function(t,e){e=t.indexOf(e);return-1<e&&t.splice(e,1),t},replace_all:function(t,e,a){return t.replace(new RegExp(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),a)},replace_multiple:function(t,e,a){for(var n=0;n<e.length;n++)t=t.replace(new RegExp(e[n],"g"),a[n]);return t},replace:function(t,e,a){return t.replace(e,a)}},Numbers={month:function(t){switch(t){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}},float:function(t){for(var e=0,a="",n=t.toString(),o=n.length;0<o;o--)a+=n.substr(o-1,1)+(2==e&&1!=o?".":""),e=2==e?0:e+1;return a.split("").reverse().join("")},bytes:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;if(0===(t=parseInt(t)))return"0 Bytes";var a=e<0?0:e,e=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,e)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]},percent:function(t,e){return(t*(2<arguments.length&&void 0!==arguments[2]?arguments[2]:100)/e).toFixed(3<arguments.length&&void 0!==arguments[3]?arguments[3]:1)+"%"},currency:function(t,e){return t.toLocaleString(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"en-US",{style:"currency",currency:e})},discount:function(t,e){return t-t*(e/100)}},Str={capitalize:function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)},cut:function(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"...";return t.length>e?t.substring(0,e-a.length)+a:t},parse:function(t){return JSON.parse(t)},slice:function(t,e,a){return t.split(e)[a]},stringify:function(t){return JSON.stringify(t,null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:4)}},Validation={ip:function(t){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},ip_v6:function(t){return/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/.test(t)},email:function(t){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(t)},int:function(t){return/^\d+$/.test(t)},bool:function(t){return/^\w+$/.test(t)},not_empty:function(t){return/\S+/.test(t)},float:function(t){return/\-?\d+\.\d+/g.test(t)},hash:function(t){return/^[a-f0-9]{128}/gm.test(t)},url:function(t){return/^(ftp|http|https):\/\/[^ "]+$/.test(t)},base64:function(t){return/^[-A-Za-z0-9+=]{1,50}|=[^=]|={3,}$/.test(t)},phone:function(t){return/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(t)},date:function(t){return/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/.test(t)}},Encoder={hex2bin:function(t){for(var e="",a=0;a<t.length;a+=2){var n=parseInt(t.substr(a,2),16);n&&(e+=String.fromCharCode(n))}return e},bin2hex:function(t){for(var e="",a=0;a<t.length;a++)e+=t[a].charCodeAt(0).toString(16);return e},toDataURL:function(t,a){var n=new XMLHttpRequest;n.onload=function(t){var e=new FileReader;e.onloadend=function(t){a(e.result)},e.readAsDataURL(n.response)},n.open("GET",t),n.responseType="blob",n.send()},base64_encode:function(t){return btoa(t)},base64_decode:function(t){return atoa(t)}},Session={get:function(t){return Str.parse(sessionStorage.getItem(t))},has:function(t){return null!=this.get(t)},delete:function(t){return 1!=Array.isArray(t)?!!sessionStorage.removeItem(t):(t.forEach(function(t){sessionStorage.removeItem(t)}),!0)},save:function(t,e){return!!sessionStorage.setItem(t,Str.stringify(e))}},Storage={get:function(t){return Str.parse(localStorage.getItem(t))},has:function(t){return null!=this.get(t)||null!=this.get(t)},delete:function(t){return 1!=Array.isArray(t)?!!localStorage.removeItem(t):(t.forEach(function(t){localStorage.removeItem(t)}),!0)},save:function(t,e){return!!localStorage.setItem(t,Str.stringify(e))}},Collections={layout:function(){$(collections_box).empty(),$(collections_box).append("\n\t\t\t<div class='header'>\n\t\t\t\t<div class='button' onclick='ManagerCollection.create_modal()'>\n\t\t\t\t\tNew\n\t\t\t\t\t<div class='fas fa-plus'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='total'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tabs'>\n\t\t\t\t<div class='tab actived' id='col-pub' onclick=\"ListCollections.list('public')\">Public</div>\n\t\t\t\t<div class='tab' id='col-priv' onclick=\"ListCollections.list('private')\">Private</div>\n\t\t\t</div>\n\n\t\t\t<div class='list'></div>\n\t\t")},toggle:function(){Classes.toggle("#list-cols"),$(collections_box).fadeToggle(anim_time)},get:function(e){setTimeout(function(t){fetch("".concat(Apis.core(),"cloud/collections/get?slug=").concat($(e).attr("slug"))).then(function(t){return t.json()}).then(function(t){$(user_container+" > .filter-area").append("\n\t\t\t\t\t<div class='filter' title='Remove filter' onclick='Collections.check_page()'>\n\t\t\t\t\t\t".concat(t.name,"\n\t\t\t\t\t\t<div class='fas fa-filter'></div>\n\t\t\t\t\t</div>\n\t\t\t\t"))})},anim_time)},check_page:function(){switch(URL.get_last_param()){case"models":Models.list_table();break;case"hashes":Hashes.list_table()}}},ListCollections={privacy:function(t){return $(collections_box+" > .tabs > .tab").removeClass(act_class),"public"!=t?($("#col-priv").addClass(act_class),"?filter=private"):($("#col-pub").addClass(act_class),"?filter=public")},check_page:function(t){switch(URL.get_last_param()){case"models":Models.list_table("collections",t);break;case"hashes":Hashes.list_table("collections",t)}},item_layout:function(t){$(collections_box+" > .list").append("\n\t\t\t<div class='item'>\n\t\t\t\t<div class='name' id='".concat(t.id,"' slug='").concat(t.slug,'\' onclick="ListCollections.check_page(this)">\n\t\t\t\t\t').concat(t.name,"\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class='right'>\n\t\t\t\t\t<div class='fas fa-edit' onclick=\"ManagerCollection.edit_modal('").concat(t.slug,"')\"></div>\n\t\t\t\t\t<div class='fas fa-trash-alt' onclick=\"Confirm.run('delete_collection', '").concat(t.slug,"')\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))},list:function(){var e=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"public";Collections.layout(),ManagerCollection.modal(),$(collections_box+" > .list").empty();var n=!1,o=setInterval(function(t){1!=n?(fetch("".concat(Apis.core(),"cloud/collections/list").concat(e.privacy(a))).then(function(t){return t.json()}).then(function(t){$(collections_box+" > .list").empty(),$(collections_box+" > .header > .total").text("Total: ".concat(t.total," item's")),0<t.total?_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.item_layout(t)}):$(collections_box+" > .list").append("\n\t\t\t\t\t\t\t<div class='none'>\n\t\t\t\t\t\t\t\tYou no have collections\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t")}),n=!0):clearInterval(o)},2*anim_time)}},Diagrams={go:function(t){window.open(Find.replace(URL.get_url(),"models/","diagrams?i=".concat(t)))},side_box:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){$(side_box).show(),$(side_box).empty(),$(side_box).append("\n\t\t\t<div class='tab actived' id='list-public' onclick=\"ListDiagrams.list_table('public')\">\n\t\t\t\tPublic\n\t\t\t\t<div class='fas fa-globe'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-privated' onclick=\"ListDiagrams.list_table('private')\">\n\t\t\t\tPrivate\n\t\t\t\t<div class='fas fa-lock'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-favs' onclick='FavDiagrams.list_table()'>\n\t\t\t\tFavorites\n\t\t\t\t<div class='fas fa-star'></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<hr>\n\n\t\t\t<div class='tab' id='list-cols' onclick='Collections.toggle()'>\n\t\t\t\tCollections\n\t\t\t\t<div class='fas fa-folder'></div>\n\t\t\t</div>\n\n\t\t\t<hr>\n\t\t\t<div class='label' id='".concat(Find.replace_all(total_items,"#",""),"'>Total: 0 item's</div>\n\t\t")),ListCollections.list()}),page_load:function(){"diagrams"!=URL.get_last_param()&&URL.change_url("".concat(URL.get_url_base(),"diagrams")),this.side_box(),ListDiagrams.list()}},FavDiagrams={execute:function(){var e=this,t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/diagrams/meta/favorite"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return&&(e.list_table(),e.check(t))})},list_table:function(){Classes.replace([side_box+" > .tab"],"#list-favs"),ListDiagrams.table_layout(),fetch("".concat(Apis.core(),"cloud/diagrams/list?filter=favorites")).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"product","asc"),function(t){Diagrams.row_layout(t)})})},check:function(t){"true"==t.favorited?($(header_dgr+" > .fa-heart").addClass("fas"),$(header_dgr+" > .fa-heart").removeClass("far")):($(header_dgr+" > .fa-heart").addClass("far"),$(header_dgr+" > .fa-heart").removeClass("fas"))}},ListDiagrams={list:function(){var e=this;Find.in_array(URL.get_last_param(),["diagrams"])&&setTimeout(function(t){e.list_table(),GetDiagram.modal(),Classes.replace([".sidebar > .item"],"#tab-diagrams"),setTimeout(function(t){null!=URL.get_query("i")&&GetDiagram.get()},3*anim_time)},2*anim_time)},table_layout:function(){$(user_container+" > table > thead").empty(),$(user_container+" > table > tbody").empty(),$(user_container+" > table > thead").append("\n\t\t\t<tr>\n\t\t\t\t<th>Name</th>\n\t\t\t\t<th>Size</th>\n\t\t\t\t<th>Added in</th>\n\t\t\t</tr>\n\t\t")},row_layout:function(t){$(user_container+" > table > tbody").append("\n\t\t\t<tr id='".concat(t.slug,"' onclick='GetDiagram.get(this)'>\n\t\t\t\t<td>").concat(Str.cut(t.name,32),"</td>\n\t\t\t\t<td>").concat(Numbers.bytes(t.size),"</td>\n\t\t\t\t<td>").concat(t.added_in,"</td>\n\t\t\t</tr>\n\t\t"))},list_table:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"public",a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.table_layout(),$(collections_box).hide(),$("#list-cols").removeClass(act_class),$(user_container+" > .filter-area > .filter").remove();var n="",o=!1;"private"==t?(n="?filter=private",Classes.replace([side_box+" > .tab"],"#list-privated")):"public"==t?(n="?filter=public",Classes.replace([side_box+" > .tab"],"#list-public")):(n="?filter=collections&col=".concat($(a).attr("id")),Collections.get(a));var i=setInterval(function(t){1!=o?(fetch("".concat(Apis.core(),"cloud/diagrams/list").concat(n)).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.row_layout(t)})}),o=!0):clearInterval(i)},anim_time)}},FavHashes={execute:function(){var e=this,t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/hashes/favorite"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return&&(e.list_table(),e.check(t))})},list_table:function(){Classes.replace([side_box+" > .tab"],"#list-favs"),ListHashes.table_layout(),fetch("".concat(Apis.core(),"cloud/hashes/list?filter=favorites")).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"product","asc"),function(t){Models.row_layout(t)})})},check:function(t){"true"==t.favorited?($(header_code+" > .fa-heart").addClass("fas"),$(header_code+" > .fa-heart").removeClass("far")):($(header_code+" > .fa-heart").addClass("far"),$(header_code+" > .fa-heart").removeClass("fas"))}},GetHash={},Hashes={side_box:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){$(side_box).show(),$(side_box).empty(),$(side_box).append("\n\t\t\t<div class='tab actived' id='list-public' onclick=\"ListHashes.list_table('public')\">\n\t\t\t\tPublic\n\t\t\t\t<div class='fas fa-globe'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-privated' onclick=\"ListHashes.list_table('private')\">\n\t\t\t\tPrivate\n\t\t\t\t<div class='fas fa-lock'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-favs' onclick='FavHashes.list_table()'>\n\t\t\t\tFavorites\n\t\t\t\t<div class='fas fa-star'></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<hr>\n\n\t\t\t<div class='tab' id='list-cols' onclick='Collections.toggle()'>\n\t\t\t\tCollections\n\t\t\t\t<div class='fas fa-folder'></div>\n\t\t\t</div>\n\n\t\t\t<hr>\n\t\t\t<div class='label' id='".concat(Find.replace_all(total_items,"#",""),"'>Total: 0 item's</div>\n\t\t")),ListCollections.list()}),page_load:function(){"hashes"!=URL.get_last_param()&&URL.change_url("".concat(URL.get_url_base(),"hashes")),this.side_box(),ListHashes.list()}},ListHashes={list:function(){var e=this;Find.in_array(URL.get_last_param(),["hashes"])&&setTimeout(function(t){e.list_table(),Classes.replace([".sidebar > .item"],"#tab-hashes"),setTimeout(function(t){null!=URL.get_query("i")&&GetHash.get()},3*anim_time)},2*anim_time)},table_layout:function(){Table.clean_table(),Table.header(["Name","Size","Type","Added in"])},params:function(t){var e;return"private"==t?(e="?filter=private",Classes.replace([side_box+" > .tab"],"#list-privated")):"public"==t?(e="?filter=public",Classes.replace([side_box+" > .tab"],"#list-public")):(e="?filter=collections&col=".concat($(col_id).attr("id")),Collections.get(col_id)),e},row_layout:function(t){Table.add_rows([{slug:t.slug,click:"GetHash.get(this)",rows:[Str.cut(t.name,32),t.engine,t.collation,t.added_in]}],!0)},list_table:function(){var e=this;this.table_layout(),$(collections_box).hide(),$("#list-cols").removeClass(act_class),$(user_container+" > .filter-area > .filter").remove();var a=!1,n=setInterval(function(t){1!=a?(fetch("".concat(Apis.core(),"cloud/hashes/list").concat(params)).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.row_layout(t)})}),a=!0):clearInterval(n)},anim_time)}},FavModels={execute:function(){var e=this,t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/models/meta/favorite"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return&&(e.list_table(),e.check(t))})},list_table:function(){Classes.replace([side_box+" > .tab"],"#list-favs"),ListModels.table_layout(),fetch("".concat(Apis.core(),"cloud/models/list?filter=favorites")).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"product","asc"),function(t){ListModels.row_layout(t)})})},check:function(t){"true"==t.favorited?($(header_code+" > .fa-heart").addClass("fas"),$(header_code+" > .fa-heart").removeClass("far")):($(header_code+" > .fa-heart").addClass("far"),$(header_code+" > .fa-heart").removeClass("fas"))}},ListModels={list:function(){var e=this;Find.in_array(URL.get_last_param(),["models"])&&setTimeout(function(t){GetModel.modal(),e.list_table(),Editor.loader(),Classes.replace([".sidebar > .item"],"#tab-models"),setTimeout(function(t){null!=URL.get_query("i")&&GetModel.get()},2*anim_time)},2*anim_time)},params:function(t){var e;return"private"==t?(e="?filter=private",Classes.replace([side_box+" > .tab"],"#list-privated")):"public"==t?(e="?filter=public",Classes.replace([side_box+" > .tab"],"#list-public")):(e="?filter=collections&col=".concat($(col_id).attr("id")),Collections.get(col_id)),e},table_layout:function(){Table.clean_table(),Table.header(["Name","Engine","Collation","Added in"])},row_layout:function(t){Table.add_rows([{slug:t.slug,click:"GetModel.get(this)",rows:[Str.cut(t.name,32),t.metadata.engine,t.metadata.collation,t.added_in]}],!0)},list_table:function(){var e=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"public";this.table_layout(),$(collections_box).hide(),$("#list-cols").removeClass(act_class),$(user_container+" > .filter-area > .filter").remove();var n=!1,o=setInterval(function(t){1!=n?(fetch("".concat(Apis.core(),"cloud/models/list").concat(e.params(a))).then(function(t){return t.json()}).then(function(t){$(total_items).text("Total: ".concat(t.total," item's")),_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.row_layout(t)})}),n=!0):clearInterval(o)},anim_time)}},Models={side_box:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){$(side_box).show(),$(side_box).empty(),$(side_box).append("\n\t\t\t<div class='tab actived' id='list-public' onclick=\"ListModels.list_table('public')\">\n\t\t\t\tPublic\n\t\t\t\t<div class='fas fa-globe'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-privated' onclick=\"ListModels.list_table('private')\">\n\t\t\t\tPrivate\n\t\t\t\t<div class='fas fa-lock'></div>\n\t\t\t</div>\n\n\t\t\t<div class='tab' id='list-favs' onclick='FavModels.list_table()'>\n\t\t\t\tFavorites\n\t\t\t\t<div class='fas fa-star'></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<hr>\n\n\t\t\t<div class='tab' id='list-cols' onclick='Collections.toggle()'>\n\t\t\t\tCollections\n\t\t\t\t<div class='fas fa-folder'></div>\n\t\t\t</div>\n\n\t\t\t<hr>\n\t\t\t<div class='label' id='".concat(Find.replace_all(total_items,"#",""),"'>Total: 0 item's</div>\n\t\t")),ListCollections.list()}),page_load:function(){"models"!=URL.get_last_param()&&URL.change_url("".concat(URL.get_url_base(),"models")),this.side_box(),ListModels.list()}},ManagerCollectionPost={edit:function(){var t=new FormData;t.append("name",$("#col-name").val()),t.append("slug",Storage.get("col-slug")),t.append("privacy",$("#col-privacy").val()),t.append("collation",$("#col-collation").val()),fetch("".concat(Apis.core(),"cloud/collections/edit"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(Modals.close_all(),Storage.delete("col-slug"),ListCollections.list(t.privacy)):console.log(t)}).catch(function(t){console.log(t)})},create:function(){var t=new FormData;t.append("name",$("#col-name").val()),t.append("privacy",$("#col-privacy").val()),t.append("collation",$("#col-collation").val()),fetch("".concat(Apis.core(),"cloud/collections/create"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(ListCollections.list(),Modals.close_all()):console.log(t)}).catch(function(t){console.log(t)})},delete:function(t){var e=new FormData;e.append("slug",t),fetch("".concat(Apis.core(),"cloud/collections/delete"),{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){"success"==t.return?ListCollections.list():console.log(t)}).catch(function(t){console.log(t)})}},ManagerCollection={modal:function(){$(collection_modal).empty(),$(collection_modal).append("\n\t\t\t<div class='title'>\n\t\t\t\t<div class='label'></div>\n\t\t\t\t<div class='fas fa-times' onclick='Modals.close_all()'></div>\n\t\t\t</div>\n\n\t\t\t<div class='body'>\n\t\t\t\t<div class='label'>Name</div>\n\t\t\t\t<input type='text' placeholder='Type the collection name' id='col-name'>\n\n\t\t\t\t<div class='label'>Privacy</div>\n\t\t\t\t<select id='col-privacy'>\n\t\t\t\t\t<option value='public'>Public</option>\n\t\t\t\t\t<option value='private'>Private</option>\n\t\t\t\t</select>\n\n\t\t\t\t<div class='label'>Collation</div>\n\t\t\t\t<select id='col-collation'></select>\n\n\t\t\t\t<div class='btn' id='col-submit'></div>\n\t\t\t</div>\n\t\t"),this.list_collations()},create_modal:function(){$(collection_modal+" > .title > .label").text("Create collection"),$(collection_modal+" > .body > .btn").attr("onclick","ManagerCollectionPost.create()"),$("#col-name").val(""),$("#col-privacy").val("public"),$("#col-submit").text("Create"),$("#col-collation").val("utf8_general_ci"),Modals.show(collection_modal)},edit_modal:function(t){Storage.save("col-slug",t),fetch("".concat(Apis.core(),"cloud/collections/get?slug=").concat(Storage.get("col-slug"))).then(function(t){return t.json()}).then(function(t){$("#col-submit").text("Save"),$("#col-name").val(t.name),$("#col-privacy").val(t.privacy),$("#col-collation").val(t.collation),$(collection_modal+" > .title > .label").text("Edit collection"),$(collection_modal+" > .body > .btn").attr("onclick","ManagerCollectionPost.edit()"),Modals.show(collection_modal)})},list_collations:function(){fetch(Apis.npoint("eaefe2d125e52b56f863")).then(function(t){return t.json()}).then(function(t){$("#col-collation").empty(),_.forEach(t,function(t){$("#col-collation").append("\n\t\t\t\t\t<option value='".concat(t,"'>\n\t\t\t\t\t\t").concat(t,"\n\t\t\t\t\t</option>\n\t\t\t\t"))})})}},GetDiagram={modal:function(){""==$(diagram_modal).html()&&$(diagram_modal).append("\n\t\t\t\t<div class='title' id='".concat(Find.replace(header_dgr,diagram_modal+" > #",""),"'>\n\t\t\t\t\t<div class='label'></div>\n\t\t\t\t\t<div class='fas fa-times' onclick='Modals.close_all()'></div>\n\t\t\t\t\t<div class='fas fa-trash-alt' onclick=\"Confirm.run('delete_diagram')\" title='Delete diagram'></div>\n\t\t\t\t\t<div class='far fa-heart' onclick='FavDiagrams.execute()'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='bar' id='").concat(Find.replace(toolbar_dgr,diagram_modal+" > #",""),"'>\n\t\t\t\t\t<div class='item bdr-rig' onclick='ShareDiagram.toggle(this)'>Share</div>\n\n\t\t\t\t\t<div class='right'>\n\t\t\t\t\t\t<div class='item icon' id='download-diagram' onclick='GetDiagram.download()' title='Download'>\n\t\t\t\t\t\t\t<div class='fas fa-download'></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='item icon no-bdr-rig' id='get-options-diagram' onclick='OptionsDiagram.toggle()' title=\"Option's\">\n\t\t\t\t\t\t\t<div class='fas fa-cog'></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='message' id='").concat(Find.replace(message_dgr,toolbar_dgr+" > #",""),"'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='share-box' id='").concat(Find.replace(share_dgr_box,diagram_modal+" > #",""),"'></div>\n\t\t\t\t<div class='options-box' id='").concat(Find.replace(options_dgr,diagram_modal+" > #",""),"'></div>\n\n\t\t\t\t<div class='viewer'>\n\t\t\t\t\t<img>\n\t\t\t\t</div>\n\t\t\t"))},delete:function(){var t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/diagrams/delete"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(ListDiagrams.list(),Modals.close_all()):GUI.message(message_dgr,t.return)}).catch(function(t){GUI.message(message_dgr,t.return)})},download:function(){Encoder.toDataURL($(diagram_modal+" > .viewer > img").attr("src"),function(t){Misc.download(t,$(header_dgr+" > .label").text()+".png")})},get:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!=t&&URL.add_query("i",$(t).attr("id")),fetch("".concat(Apis.core(),"cloud/diagrams/get?slug=").concat(URL.get_query("i"))).then(function(t){return t.json()}).then(function(t){ShareDiagram.layout(),OptionsDiagram.layout(),OptionsDiagram.get(),$(header_dgr+" > .label").text(t.name),$(diagram_modal+" > .viewer > img").attr("src",t.image),Modals.show(diagram_modal)})}},GetModel={modal:function(){""==$(code_view_modal).html()&&$(code_view_modal).append("\n\t\t\t\t<div class='title' id='".concat(Find.replace(header_code,code_view_modal+" > #",""),"'>\n\t\t\t\t\t<div class='label'></div>\n\t\t\t\t\t<div class='fas fa-times' onclick='Modals.close_all()'></div>\n\n\t\t\t\t\t<div class='fas fa-trash-alt' onclick=\"Confirm.run('delete_model')\" title='Delete model'></div>\n\t\t\t\t\t<div class='far fa-heart' onclick='FavModels.execute()'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='bar' id='").concat(Find.replace(toolbar_code,code_view_modal+" > #",""),"'>\n\t\t\t\t\t<div class='item bdr-rig' id='share-model' onclick='ShareModel.toggle(this)'>Share</div>\n\t\t\t\t\t<div class='item bdr-rig' id='send-model' onclick='SendToModel.toggle(this)'>Send to</div>\n\t\t\t\t\t<div class='item bdr-rig' id='linked-model' onclick='ModelsLinked.toggle(this)'>Linked</div>\n\n\t\t\t\t\t<div class='right'>\n\t\t\t\t\t\t<div class='item icon' id='download-model' onclick='GetModel.download()' title='Download'>\n\t\t\t\t\t\t\t<div class='fas fa-download'></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class='item icon no-bdr-rig' id='get-options-model' onclick='OptionsModel.toggle()' title=\"Option's\">\n\t\t\t\t\t\t\t<div class='fas fa-cog'></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class='message' id='").concat(Find.replace(code_view_message,toolbar_code+" > #",""),"'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='send-to-box' id='").concat(Find.replace(send_to_box,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='visual-mode' id='").concat(Find.replace(visual_mode,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='share-box' id='").concat(Find.replace(share_code_box,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='code-diagram' id='").concat(Find.replace(code_diagram,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='options-box' id='").concat(Find.replace(options_model,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='properties-menu' id='").concat(Find.replace(properties,code_view_modal+" > #",""),"'></div>\n\t\t\t\t<div class='models-linked-box' id='").concat(Find.replace(models_linked_box,code_view_modal+" > #",""),"'></div>\n\t\t\t\t\n\t\t\t\t<textarea id='").concat(cm_editor,"'></textarea>\n\t\t\t\t<div class='bar status' id='").concat(Find.replace(status_code,code_view_modal+" > #",""),"'></div>\n\t\t\t"))},delete:function(){var t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/models/delete"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(Models.list(),Modals.close_all()):GUI.message(code_view_message,t.return)}).catch(function(t){GUI.message(code_view_message,t.return)})},download:function(){Classes.is_visible(visual_mode)?html2canvas(document.querySelector(table_render_visual)).then(function(t){Misc.download(t.toDataURL(),$(header_code+" > .label").text()+".png")}):Misc.download("".concat(Apis.core(),"cloud/models/meta/download?slug=").concat(URL.get_query("i")))},get:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;$(code_diagram).hide(),null!=t&&URL.add_query("i",$(t).attr("id")),fetch("".concat(Apis.core(),"cloud/models/get?slug=").concat(URL.get_query("i"))).then(function(t){return t.json()}).then(function(t){OptionsModel.get(),ShareModel.layout(),StatusModel.layout(),CodeDiagram.layout(),SendToModel.layout(),ModelsLinked.layout(),CodeDiagramRun.get(t),Editor.content(t.content),PropsTable.get(t.metadata),VisualMode.fields(t.colunms),$(header_code+" > .label").text(t.name),FavModels.check(t),Modals.show(code_view_modal)})}},Editor={loader:function(){null==editor&&(editor=CodeMirror.fromTextArea(document.getElementById(cm_editor),{tabSize:2,indentSize:2,readOnly:!0,autofocus:!0,indentAuto:!0,theme:"default",lineNumbers:!0,autoRefresh:!0,lineWrapping:!0,matchBrackets:!0,mode:"text/x-mysql",indentWithTabs:!0,styleActiveLine:!0,autoCloseBrackets:!0,styleActiveSelected:!0}),ISE.loader(),this.auto_refresh())},auto_refresh:function(){setInterval(function(t){null!=editor&&editor.refresh()},anim_time)},content:function(t){""!=editor.getDoc().getValue()&&editor.getDoc().getValue()==t||editor.getDoc().setValue(t)}},ISE={loader:function(){var e=this;this.element(),this.get_dataset(),setInterval(function(t){editor&&sql_code_ref&&e.toggle_element()},anim_time)},element:function(){$(intellisense).remove(),$(code_view_modal).append("\n\t\t\t<div class='intellisense' id='".concat(Find.replace_all(intellisense,code_view_modal+" > #",""),"'>\n\t\t\t\t<div class='header'></div>\n\t\t\t\t<div class='msg' id='isp-msg'></div>\n\t\t\t\t<div class='get-def'></div>\n\n\t\t\t\t<div class='footer'>\n\t\t\t\t\t<div class='fas fa-copy' title='Copy definition' onclick=\"ISE.copy_definition()\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))},get_dataset:function(){fetch(Apis.npoint("76b01add5383aaa020c7")).then(function(t){return t.json()}).then(function(t){sql_code_ref=t})},open_docs:function(t){1!=Storage.has("offline-mode")?open(Find.replace_all(t,"{docs_page}",sql_code_ref.docs_page)):GUI.message("isp-msg","You are offline. Try again later...",3e3)},get_definition:function(){$(intellisense+" > .header").text(editor.getSelection()),$(intellisense+" > .get-def").append("\n\t\t\t<div class='define'>".concat(sql_code_ref.keywords[editor.getSelection().toLowerCase()],"</div>\n\t\t")),null!=sql_code_ref.docs[editor.getSelection().toLowerCase()]?($(intellisense+" > .footer > .learn").remove(),0==$(intellisense+" > .footer > .learn").length&&$(intellisense+" > .footer").append("\n\t\t\t\t\t<div class='learn' onclick=\"ISE.open_docs('".concat(sql_code_ref.docs[editor.getSelection().toLowerCase()],"')\">\n\t\t\t\t\t\tLearn more\n\t\t\t\t\t</div>\n\t\t\t\t"))):$(intellisense+" > .footer > .learn").remove()},toggle_element:function(){$(intellisense+" > .header").empty(),$(intellisense+" > .get-def").empty(),null!=sql_code_ref.keywords&&(null!=sql_code_ref.keywords[editor.getSelection().toLowerCase()]?(this.get_definition(),$(intellisense).fadeIn(anim_time)):$(intellisense).hide())},copy_definition:function(){GUI.message("isp-msg","Copied with successfully.",3e3),Misc.copy_element($(intellisense+" > .get-def")[0].innerText)}},StatusModel={layout:function(){$(status_code).empty(),$(status_code).append("\n\t\t\t<div class='option bdr-rig' id='".concat(Find.replace(props_btn,"#",""),"' onclick='PropsTable.toggle()'>\n\t\t\t\tProperties\n\t\t\t\t<div class='fas fa-info-circle'></div>\n\t\t\t</div>\n\n\t\t\t<div class='text' id='privacy-model'></div>\n\t\t\t<div class='text' id='collection-model'></div>\n\n\t\t\t<div class='right'>\n\t\t\t\t<div class='item icon' id='btn-code-diagram' onclick='CodeDiagram.toggle()' title='Diagram'>\n\t\t\t\t\t<div class='fas fa-project-diagram'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='item icon actived' id='code-mode' onclick='StatusModel.code_mode()' title='Code mode'>\n\t\t\t\t\t<div class='fas fa-code'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='item icon no-bdr-rig' id='visual-mode' onclick='StatusModel.visual_mode()' title='Visual mode'>\n\t\t\t\t\t<div class='fas fa-table'></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))},code_mode:function(){$(visual_mode).hide(),$(code_diagram).hide(),$(".CodeMirror").show(),$(options_model).hide(),$(status_code+" > .right > .item").removeClass(act_class),$(status_code+" > .right > #code-mode").addClass(act_class)},visual_mode:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){$(visual_mode).show(),$(code_diagram).hide(),$(".CodeMirror").hide(),$(options_model).hide(),$(status_code+" > .right > .item").removeClass(act_class),$(status_code+" > .right > #visual-mode").addClass(act_class)}),privacy:function(t){switch($(status_code+" > #privacy-model").empty(),t){case"public":$(status_code+" > #privacy-model").append("\n\t\t\t\t\tPublic\n\t\t\t\t\t<div class='fas fa-globe'></div>\n\t\t\t\t");break;case"private":$(status_code+" > #privacy-model").append("\n\t\t\t\t\tPrivate\n\t\t\t\t\t<div class='fas fa-lock'></div>\n\t\t\t\t")}},collection:function(t){$(status_code+" > #collection-model").empty(),0!=t.id&&$(status_code+" > #collection-model").append("\n\t\t\t\t".concat(t.name,"\n\t\t\t\t<div class='fas fa-folder'></div>\n\t\t\t"))}},VisualMode={layout:function(){$(visual_mode).empty(),$(visual_mode).append("\n\t\t\t<table id='".concat(Find.replace(table_render_visual,visual_mode+" > #",""),"'>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Field</th>\n\t\t\t\t\t\t<th>Type</th>\n\t\t\t\t\t\t<th>Key</th>\n\t\t\t\t\t\t<th>Null</th>\n\t\t\t\t\t\t<th>Default</th>\n\t\t\t\t\t\t<th>Extra</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t\n\t\t\t\t<tbody></tbody>\n\t\t\t</table>\n\t\t"))},value:function(t){switch(t){case"":case null:case"false":return"<div class='none'>None</div>";default:return Str.cut(t,32)}},fields:function(t){var e=this;this.layout(),t.forEach(function(t){e.row_layout(t)})},row_layout:function(t){$(visual_mode+" > table > tbody").append("\n\t\t\t<tr>\n\t\t\t\t<td>".concat(Str.cut(t.Field,32),"</td>\n\t\t\t\t<td>").concat(Str.cut(t.Type,32),"</td>\n\t\t\t\t<td>").concat(this.value(t.Key),"</td>\n\t\t\t\t<td>").concat(t.Null,"</td>\n\t\t\t\t<td>").concat(this.value(t.Default),"</td>\n\t\t\t\t<td>").concat(this.value(t.Extra),"</td>\n\t\t\t</tr>\n\t\t"))}},EditDiagram={privacy:function(){var t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/diagrams/meta/change-privacy"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?OptionsDiagram.get():console.log(t)}).catch(function(t){console.log(t)})},collection:function(t){var e=new FormData;e.append("col",$(t).attr("id")),e.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/diagrams/meta/change-collection"),{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){"success"==t.return?0!=t.collection?ListCollectionsDiagram.list(t.collection.id):$(options_dgr+" > .collection > .list > .item > .fas").remove():console.log(t)}).catch(function(t){console.log(t)})}},ListCollectionsDiagram={toggle:function(t){Classes.toggle(t),$(".collection").slideToggle(anim_time)},list:function(e){var a=this;$(options_dgr+" > .collection > .list").empty();var n=!1,o=setInterval(function(t){1!=n?(fetch("".concat(Apis.core(),"cloud/collections/list")).then(function(t){return t.json()}).then(function(t){0<t.total?($("#remove-col").show(),_.forEach(_.orderBy(t.list,"name","asc"),function(t){a.item_layout(t,e)})):($("#remove-col").hide(),$(options_dgr+" > .collection > .list").append("\n\t\t\t\t\t\t\t<div class='none'>\n\t\t\t\t\t\t\t\tYou no have collections\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"))}),n=!0):clearInterval(o)},anim_time)},item_layout:function(t,e){t.id==e?$(options_dgr+" > .collection > .list").append("\n\t\t\t\t<div class='item' id='".concat(t.id,'\' onclick="EditDiagram.collection(this)">\n\t\t\t\t\t').concat(t.name,"\n\t\t\t\t\t<div class='fas fa-check'></div>\n\t\t\t\t</div>\n\t\t\t")):$(options_dgr+" > .collection > .list").append("\n\t\t\t\t<div class='item' id='".concat(t.id,'\' onclick="EditDiagram.collection(this)">\n\t\t\t\t\t').concat(t.name,"\n\t\t\t\t</div>\n\t\t\t"))}},OptionsDiagram={get:function(){this.layout(),$(options_dgr+" > #diagram-privacy > .fas").remove(),fetch("".concat(Apis.core(),"cloud/diagrams/meta/get-options?slug=").concat(URL.get_query("i"))).then(function(t){return t.json()}).then(function(t){"public"==t.privacy&&$(options_dgr+" > #diagram-privacy").append("<div class='fas fa-check'></div>"),ListCollectionsDiagram.list(t.collection.id)})},layout:function(){$(options_dgr).empty(),$(options_dgr).append("\n\t\t\t<div class='item' id='diagram-privacy' onclick='EditDiagram.privacy()'>Public</div>\n\n\t\t\t<div class='item' onclick=\"ListCollectionsDiagram.toggle(this)\">\n\t\t\t\tCollection\n\t\t\t\t<div class='fas fa-folder icon-left'></div>\n\t\t\t</div>\n\n\t\t\t<div class='collection'>\n\t\t\t\t<div class='list'></div>\n\n\t\t\t\t<div class='item' id='remove-col' onclick=\"EditDiagram.collection('0')\">Remove in this collection</div>\n\t\t\t</div>\n\t\t")},toggle:function(){Classes.toggle("#get-options-diagram"),$(options_dgr).fadeToggle(anim_time)}},EditModel={privacy:function(){var t=new FormData;t.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/models/meta/change-privacy"),{method:"POST",body:t}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(OptionsModel.get(),ListModels.list_table()):console.log(t)}).catch(function(t){console.log(t)})},collection:function(t){var e=new FormData;e.append("col",$(t).attr("id")),e.append("slug",URL.get_query("i")),fetch("".concat(Apis.core(),"cloud/models/meta/change-collection"),{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){"success"==t.return?(StatusModel.collection(t.collection),0!=t.collection?ListCollectionsModel.list(t.collection.id):$(options_model+" > .collection > .list > .item > .fas").remove()):console.log(t)}).catch(function(t){console.log(t)})}},ListCollectionsModel={toggle:function(t){Classes.toggle(t),$(".collection").slideToggle(anim_time)},list:function(e){var a=this;$(options_model+" > .collection > .list").empty();var n=!1,o=setInterval(function(t){1!=n?(fetch("".concat(Apis.core(),"cloud/collections/list")).then(function(t){return t.json()}).then(function(t){0<t.total?($("#remove-col").show(),_.forEach(_.orderBy(t.list,"name","asc"),function(t){a.item_layout(t,e)})):($("#remove-col").hide(),$(options_model+" > .collection > .list").append("\n\t\t\t\t\t\t\t<div class='none'>\n\t\t\t\t\t\t\t\tYou no have collections\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"))}),n=!0):clearInterval(o)},anim_time)},item_layout:function(t,e){t.id==e?$(options_model+" > .collection > .list").append("\n\t\t\t\t<div class='item' id='".concat(t.id,'\' onclick="EditModel.collection(this)">\n\t\t\t\t\t').concat(t.name,"\n\t\t\t\t\t<div class='fas fa-check'></div>\n\t\t\t\t</div>\n\t\t\t")):$(options_model+" > .collection > .list").append("\n\t\t\t\t<div class='item' id='".concat(t.id,'\' onclick="EditModel.collection(this)">\n\t\t\t\t\t').concat(t.name,"\n\t\t\t\t</div>\n\t\t\t"))}},OptionsModel={get:function(){this.layout(),$(options_model+" > #model-privacy > .fas").remove(),fetch("".concat(Apis.core(),"cloud/models/meta/get-options?slug=").concat(URL.get_query("i"))).then(function(t){return t.json()}).then(function(t){StatusModel.privacy(t.privacy),StatusModel.collection(t.collection),"public"==t.privacy&&$(options_model+" > #model-privacy").append("<div class='fas fa-check'></div>"),ListCollectionsModel.list(t.collection.id)})},layout:function(){$(options_model).empty(),$(options_model).append("\n\t\t\t<div class='item' id='model-privacy' onclick='EditModel.privacy()'>Public</div>\n\n\t\t\t<div class='item' onclick=\"ListCollectionsModel.toggle(this)\">\n\t\t\t\tCollection\n\t\t\t\t<div class='fas fa-folder icon-left'></div>\n\t\t\t</div>\n\n\t\t\t<div class='collection'>\n\t\t\t\t<div class='list'></div>\n\n\t\t\t\t<div class='item' id='remove-col' onclick=\"EditModel.collection('0')\">Remove in this collection</div>\n\t\t\t</div>\n\t\t")},toggle:function(){Classes.toggle("#get-options-model"),$(options_model).fadeToggle(anim_time)}},EmbedDiagram={page:function(){return Find.replace(URL.get_url(),"diagrams/",URL.get_query("i"))},actived:function(t){$(share_dgr_box+" > .sub-options > .option").removeClass(act_class),$(t).addClass(act_class)},options:function(t,e){var a;switch(t){case"page":a=this.page();break;case"html":a=this.html();break;case"bbcode":a=this.bbcode();break;case"direct":a=this.direct();break;case"markdown":a=this.markdown()}$(share_dgr_box+" > .links > input").val(a),$(share_dgr_box+" > .options > .text").text($(e).text()),this.actived(e),ShareDiagram.toggle_sub_options()},social_media:function(t){var e=EmbedDiagram.direct();switch(t){case"vk":return"https://vk.com/share.php?url=".concat(e);case"reddit":return"https://www.reddit.com/submit?url=".concat(e);case"twitter":return"https://twitter.com/intent/tweet?url=".concat(e);case"facebook":return"https://www.facebook.com/sharer.php?u=".concat(e);case"pinterest":return"https://pinterest.com/pin/create/link?media=".concat(e)}},bbcode:function(){return"[img](".concat(this.direct(),")[/img]")},direct:function(){return $(diagram_modal+" > .viewer > img").attr("src")},markdown:function(){return"<![Diagram by ".concat(Str.slice(document.title," - ",0),"](").concat(this.direct(),")")},html:function(){return"<img src='".concat(this.direct(),"' title='Diagram by ").concat(Str.slice(document.title," - ",0),"'>")}},ShareDiagram={layout:function(){setTimeout(function(t){$(share_dgr_box).empty(),$(share_dgr_box).append("\n\t\t\t\t<div class='social'>\n\t\t\t\t\t<a href=\"".concat(EmbedDiagram.social_media("facebook"),"\" target='_blank' class='fab fa-facebook'></a>\n\t\t\t\t\t<a href=\"").concat(EmbedDiagram.social_media("twitter"),"\" target='_blank' class='fab fa-twitter'></a>\n\t\t\t\t\t<a href=\"").concat(EmbedDiagram.social_media("reddit"),"\" target='_blank' class='fab fa-reddit'></a>\n\t\t\t\t\t<a href=\"").concat(EmbedDiagram.social_media("pinterest"),"\" target='_blank' class='fab fa-pinterest'></a>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='options' onclick=\"ShareDiagram.toggle_sub_options()\">\n\t\t\t\t\t<div class='text'>Page</div>\n\t\t\t\t\t<div class='fas fa-chevron-down'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='sub-options'>\n\t\t\t\t\t<div class='option ").concat(Find.replace(act_class,".",""),"' onclick=\"EmbedDiagram.options('page', this)\">Page</div>\n\t\t\t\t\t<div class='option' onclick=\"EmbedDiagram.options('direct', this)\">Direct</div>\n\t\t\t\t\t<div class='option' onclick=\"EmbedDiagram.options('html', this)\">HTML</div>\n\t\t\t\t\t<div class='option' onclick=\"EmbedDiagram.options('bbcode', this)\">BBCode</div>\n\t\t\t\t\t<div class='option' onclick=\"EmbedDiagram.options('markdown', this)\">Markdown</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='links'>\n\t\t\t\t\t<input type='text' value='").concat(EmbedDiagram.page(),'\' onclick="Misc.copy_input(this)" readonly>\n\t\t\t\t</div>\n\t\t\t'))},anim_time)},toggle:function(t){Classes.toggle(t),$(share_dgr_box).fadeToggle(anim_time)},toggle_sub_options:function(){$(".options > .fas").remove(),Classes.is_visible(".sub-options")?$(".options").append("<div class='fas fa-chevron-down'></div>"):$(".options").append("<div class='fas fa-chevron-up'></div>"),Classes.toggle(".options"),$(".sub-options").slideToggle(anim_time)}},CommentTable={toggle:function(t){Classes.toggle(t),$(this.element()+" > .comment").slideToggle(anim_time)},get:function(t){t.comment&&$(this.element()).append("\n\t\t\t\t<div class='header' onclick='CommentTable.toggle(this)'>\n\t\t\t\t\tComment\n\t\t\t\t\t<div class='fas fa-comment-alt'></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class='comment'>".concat(t.comment,"</div<>\n\t\t\t"))},element:function(){return properties+" > .comment-area"}},PropsTable={toggle:function(){Classes.toggle(props_btn),$(properties).fadeToggle()},get:function(t){$(properties).empty(),$(properties).append("\n\t\t\t<div class='item'>Engine: ".concat(t.engine,"</div>\n\t\t\t<div class='item'>Auto increment: ").concat(t.auto_increment,"</div>\n\t\t\t<div class='item'>Row format: ").concat(t.row_format,"</div>\n\t\t\t<div class='item'>Collation: ").concat(t.collation,"</div>\n\t\t\t<div class='item'>Temporary: ").concat(t.temporary,"</div>\n\t\t\t<div class='comment-area'></div>\n\t\t")),CommentTable.get(t)}},CodeDiagramIO={save:function(){$(code_diagram+" > .viewer > img").attr("src")||html2canvas(this.element()).then(function(t){var e=new FormData,t=Str.slice(t.toDataURL(),",",1);e.append("image",t),e.append("model",URL.get_query("i")),e.append("name",$(code_view_modal+" > .title > .label").text()),fetch("".concat(Apis.core(),"cloud/diagrams/create"),{method:"POST",body:e}).then(function(t){return t.json()}),GUI.message("msg-dgr-model","Diagram saved with successfully.")})},element:function(){return $(code_diagram+" > .viewer > img").attr("src")?document.querySelector(code_diagram+" > .viewer > img"):document.querySelector(code_diagram+" > .viewer > .model-diagram")},download:function(){var e;$(code_diagram+" > .viewer > img").attr("src")?Encoder.toDataURL($(code_diagram+" > .viewer > img").attr("src"),function(t){e=t}):html2canvas(document.querySelector(code_diagram+" > .viewer > .model-diagram")).then(function(t){e=t.toDataURL()}),setTimeout(function(t){Misc.download(e,$(header_code+" > .label").text()+".png")},anim_time)}},CodeDiagramRun={icon:function(t){switch(t){case"pri":case"PRI":return"fas fa-key PRI";case"uni":case"UNI":return"fas fa-key UNI";default:return"fas fa-caret-right"}},get:function(t){var e=this;$(code_diagram+" > .viewer > .model-diagram").hide(),$(code_diagram+" > .viewer > .model-diagram").empty(),t.diagram.link?$(code_diagram+" > .viewer > img").attr("src",t.diagram.link):($(code_diagram+" > .viewer > .model-diagram").append("\n\t\t\t\t<div class='name'>\n\t\t\t\t\t".concat(Str.cut(t.name,50),"\n\t\t\t\t</div>\n\t\t\t")),t.colunms.forEach(function(t){e.item_layout(t)}),$(code_diagram+" > .viewer > .model-diagram").show()),CodeDiagram.toggle_option(t.diagram.slug)},item_layout:function(t){$(code_diagram+" > .viewer > .model-diagram").append("\n\t\t\t<li>\n\t\t\t\t<div class='".concat(this.icon(t.Key),"'></div>\n\t\t\t\t").concat(Str.cut(t.Field,32)," ").concat(Str.slice(t.Type,"(",0).toUpperCase(),"\n\t\t\t</li>\n\t\t"))}},CodeDiagram={toggle:function(){$(code_diagram).fadeToggle(anim_time),Classes.toggle("#btn-code-diagram")},layout:function(){$(code_diagram).empty(),$(code_diagram).append("\n\t\t\t<div class='viewer'>\n\t\t\t\t<div class='message' id='msg-dgr-model'></div>\n\t\t\t\t<div class='model-diagram'></div>\n\t\t\t\t<img>\n\t\t\t</div>\n\n\t\t\t<div class='right-bar'>\n\t\t\t\t<div class='fas fa-save' id='option-1'></div>\n\t\t\t\t<div class='fas fa-download' id='option-2' onclick='CodeDiagramIO.download()' title='Download diagram'></div>\n\t\t\t</div>\n\t\t")},toggle_option:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e="#option-1";$(code_diagram+" > .viewer > img").attr("src")?($(e).removeClass("fa-save"),$(e).addClass("fa-external-link-alt"),$(e).attr("title","View diagram page"),$(e).attr("onclick","Diagrams.go('".concat(t,"')"))):($(e).removeClass("fa-external-link-alt"),$(e).addClass("fa-save"),$(e).attr("title","Save to my account"),$(e).attr("onclick","CodeDiagramIO.save()"))}},ListModelsLinked={list:function(){var e=this;fetch("".concat(Apis.core(),"cloud/models/list?filter=linked&slug=").concat(URL.get_query("i"))).then(function(t){return t.json()}).then(function(t){$(models_linked_box+" > .list").empty(),$(models_linked_box+" > .header > .total").text("".concat(t.total," item's")),0<t.total?_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.item_layout(t)}):$(models_linked_box+" > .list").append("\n                    <div class='none'>You not have models linked</div>\n                ")})},item_layout:function(t){$(models_linked_box+" > .list").append("\n\t\t\t<div class='item' slug='".concat(t.slug,"'>\n                ").concat(t.name,"\n            </div>\n\t\t"))}},ModelsLinked={layout:function(){$(models_linked_box).empty(),$(models_linked_box).append("\n\t\t\t<div class='header'>\n\t\t\t\t<div class='label'>Linked</div>\n\t\t\t\t<div class='total'>0 item's</div>\n\t\t\t</div>\n\n\t\t\t<div class='list'></div>\n\t\t")},toggle:function(t){$(send_to_box).hide(),$(share_code_box).hide(),$(toolbar_code+" > #send-model").removeClass(act_class),$(toolbar_code+" > #share-model").removeClass(act_class),Classes.toggle(t),$(models_linked_box).fadeToggle(anim_time),Classes.is_visible(models_linked_box)&&ListModelsLinked.list()}},ListContactsModel={list:function(){var e=this;fetch("".concat(Apis.core(),"contacts/list")).then(function(t){return t.json()}).then(function(t){$(send_to_box+" > .list").empty(),0<t.total?_.forEach(_.orderBy(t.list,"name","asc"),function(t){e.item_layout(t)}):$(send_to_box+" > .list").append("<div class='none'>You no have contacts</div>")})},item_layout:function(t){$(send_to_box+" > .list").append("\n\t\t\t<div class='contact'>\n\t\t\t\t<img src='".concat(Misc.gravatar(t.gravatar),"'>\n\t\t\t\t<div class='name'>").concat(t.name,"</div>\n\n\t\t\t\t<div class='fas fa-share' onclick=\"SendToModel.send(this)\" title='Send'></div>\n\t\t\t\t").concat(this.favorite_item(t),"'\n\t\t\t</div>\n\t\t"))},favorite_item:function(t){var e,a=Find.in_array(t.favorited,[!0,"true"])?(e="fas fa-heart","Remove favorite"):(e="far fa-heart","Favorite contact");return"<div class='".concat(e,"' onclick=\"ContactsModelMisc.favorite('").concat(t.slug,"')\" title='").concat(a,"'></div>")}},SendToModel={layout:function(){$(send_to_box).empty(),$(send_to_box).append("\n\t\t\t<div class='header'>\n\t\t\t\t<div class='tab actived'>All</div>\n\t\t\t\t<div class='tab'>Favorites</div>\n\t\t\t</div>\n\n\t\t\t<div class='list'></div>\n\t\t")},toggle:function(t){$(share_code_box).hide(),$(models_linked_box).hide(),$(toolbar_code+" > #share-model").removeClass(act_class),$(toolbar_code+" > #linked-model").removeClass(act_class),Classes.toggle(t),$(send_to_box).fadeToggle(anim_time),Classes.is_visible(send_to_box)&&ListContactsModel.list()}},ShareMisc={actived:function(t){$(share_code_box+" > .sub-options > .option").removeClass(act_class),$(t).addClass(act_class)},links:function(t,e){var a;switch(t){case"cli":a=this.import_cli();break;case"raw":a=this.link_raw();break;case"direct":a=this.link_direct()}$(share_code_box+" > .links > input").val(a),$(share_code_box+" > .options > .text").text($(e).text()),this.actived(e),ShareModel.toggle_sub_options()},social_media:function(t){switch(t){case"vk":return"https://vk.com/share.php?url=".concat(this.link_direct());case"reddit":return"https://www.reddit.com/submit?url=".concat(this.link_direct());case"twitter":return"https://twitter.com/intent/tweet?url=".concat(this.link_direct());case"facebook":return"https://www.facebook.com/sharer.php?u=".concat(this.link_direct())}},import_cli:function(){return"wks import ".concat(URL.get_query("i"))},link_direct:function(){return URL.get_url_base()+URL.get_query("i")},link_raw:function(){return URL.get_url_base()+"raw/"+URL.get_query("i")}},ShareModel={layout:function(){$(share_code_box).empty(),$(share_code_box).append("\n\t\t\t<div class='social'>\n\t\t\t\t<a href=\"".concat(ShareMisc.social_media("facebook"),"\" target='_blank' class='fab fa-facebook'></a>\n\t\t\t\t<a href=\"").concat(ShareMisc.social_media("twitter"),"\" target='_blank' class='fab fa-twitter'></a>\n\t\t\t\t<a href=\"").concat(ShareMisc.social_media("reddit"),"\" target='_blank' class='fab fa-reddit'></a>\n\t\t\t\t<a href=\"").concat(ShareMisc.social_media("vk"),"\" target='_blank' class='fab fa-vk'></a>\n\t\t\t</div>\n\n\t\t\t<div class='options' onclick=\"ShareModel.toggle_sub_options()\">\n\t\t\t\t<div class='text'>Direct</div>\n\t\t\t\t<div class='fas fa-chevron-down'></div>\n\t\t\t</div>\n\n\t\t\t<div class='sub-options'>\n\t\t\t\t<div class='option ").concat(Find.replace(act_class,".",""),"' onclick=\"ShareMisc.links('direct', this)\">Direct</div>\n\t\t\t\t<div class='option' onclick=\"ShareMisc.links('cli', this)\">CLI</div>\n\t\t\t\t<div class='option' onclick=\"ShareMisc.links('raw', this)\">Raw</div>\n\t\t\t</div>\n\n\t\t\t<div class='links'>\n\t\t\t\t<input type='text' value='").concat(ShareMisc.link_direct(),'\' onclick="Misc.copy_input(this)" readonly>\n\t\t\t</div>\n\t\t'))},toggle:function(t){$(send_to_box).hide(),$(models_linked_box).hide(),$(toolbar_code+" > #send-model").removeClass(act_class),$(toolbar_code+" > #linked-model").removeClass(act_class),Classes.toggle(t),$(share_code_box).fadeToggle(anim_time)},toggle_sub_options:function(){$(".options > .fas").remove(),Classes.is_visible(".sub-options")?$(".options").append("<div class='fas fa-chevron-down'></div>"):$(".options").append("<div class='fas fa-chevron-up'></div>"),Classes.toggle(".options"),$(".sub-options").slideToggle(anim_time)}};